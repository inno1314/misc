#!/bin/bash

display_info() {
  clear
  echo -e "\033[1;34m============================ System Monitor ============================\033[0m"
  echo -e "\033[1;32m CPU Usage \033[0m"
  echo "--------------------------------------------------------------------"
  top -bn1 | grep "Cpu(s)" | sed "s/.*, *\([0-9.]*\)%* id.*/\1/" | awk '{print "CPU usage: " 100 - $1 "%"}'
  echo ""

  echo -e "\033[1;32m Memory Usage \033[0m"
  echo "--------------------------------------------------------------------"
  echo -n "      " && free -h | awk 'NR==1{printf "%s %7s %7s\n", $1, $2, $3}NR==2{printf "%s %6s %7s %7s\n", $1, $2, $3, $4}NR==3{printf "%s %s %7s %7s\n", $1, $2, $3, $4}'
  echo ""

  echo -e "\033[1;32m Disk Usage \033[0m"
  echo "--------------------------------------------------------------------"
  df -h | awk 'NR==1{print $0} NR>1{printf "%-9s %10s %5s %5s %4s %s\n", $1, $2, $3, $4, $5, $6}'
  echo ""

  echo -e "\033[1;34m=====================================================================\033[0m"
}

while true; do
  display_info
  sleep 1
done
